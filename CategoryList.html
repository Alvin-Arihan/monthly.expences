<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0" />
  <title>                 </title>

  <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" />
  <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script type="text/javascript" th:src="@{/webjars/jquery/jquery.min.js}"></script>
  <script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
</head>

<body id="categories">
<div th:replace="fragments/header :: header"></div>
<div>
  <table class="table table-hover table-responsive-xl">
    <thead class="thead-light">
    <tr>
      <th scope="col">S.No</th>
      <th scope="col">Name</th>
    </tr>
    </thead>

    <tbody>
    <tr th:each="category : ${categories}" >
      <!--    <tr th:if="${cat}.equal({item.category.name})">-->
      <!--      <td>[[${item.category.name}]]</td>}-->
      <!--    </tr>-->
      <th scope="row">[[${category.id}]]</th>
      <td ><input type="text" >[[${category.name}]]</input></td>

    </tr></tbody></table>


</div>

<form action="#" th:action="@{/savecategory}" th:object="${categories}"
      method="post">
<div th:if="${message != null}" class="alert alert-success alert-dismissible fade show text-center message"
     role="alert">
  [[${message}]]
  <button type="button" class="close btn-sm" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">Ã—</span>
  </button>
</div>
    <div th:if="${categories == null}" >
        <fieldset>
        <table>
            <tbody>
            <tr th:each="category, itemStat :${categories}"><td>
            <label>Name</label>>
            <input type="text" th:field="*{categories[__${itemStat.index}__].name}"/></td></tr></tbody>
        </table>
            </fieldset>
    </div>
<div th:unless="${saveCategory.html?.size > 0}" >

  <table class="table table-hover table-responsive-xl">
    <thead class="thead-light">
    <tr>
      <th scope="col">S.No</th>
      <th scope="col">Name</th>
    </tr>
    </thead>

    <tbody>
       <tr th:each="category : ${categories}" >
<!--    <tr th:if="${cat}.equal({item.category.name})">-->
<!--      <td>[[${item.category.name}]]</td>}-->
<!--    </tr>-->
      <th scope="row">[[${category.id}]]</th>
      <td ><input type="text" >[[${category.name}]]</input></td>

      </tr></tbody></table>
</div>

<input type="submit">Submit</input>

<input value='Print' type='button' onclick='handlePrint()' />
<div th:replace="fragments/footer1 :: footer"></div>
</form>
</body>
<script type="text/javascript">
         const handlePrint = () => {
            var actContents = document.body.innerHTML;
            document.body.innerHTML = actContents;
            window.print();
         }
      </script>
</html>
